/*
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
    nf-core style base config
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
    Default process configuration
----------------------------------------------------------------------------------------
*/

process {
    cache = 'standard'
    executor = 'local'
    clusterOptions = '-C thrd64 --cpus-per-task=20'

    errorStrategy = { task.exitStatus in [143,137,104,134,139] ? 'retry' : 'finish' }
    maxRetries = 1
    maxErrors = '-1'

    withLabel: process_low {
        cpus = 2
        memory = 4.GB
        time = 1.h
    }
    withLabel: process_medium {
        cpus = 6
        memory = 36.GB
        time = 8.h
    }
    withLabel: process_high {
        cpus = 12
        memory = 72.GB
        time = 16.h
    }
    withLabel: process_long {
        time = 20.h
    }
}

executor {
    queueSize = 90
}
